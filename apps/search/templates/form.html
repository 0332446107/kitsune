{% extends "common/base.html" %}
{% set title = _("Search") %}
{% if advanced == '1' %}
{% set classes = 'advanced_search' %}
{% endif %}
{% set styles = (MEDIA_URL + 'css/search.css',) %}
{% set scripts = (MEDIA_URL + 'js/jquery.min.js',
        MEDIA_URL + 'js/jqueryui.min.js',
        MEDIA_URL + 'js/search.js') %}

{% block content %}
    {% if advanced == '1' %}
    <div id="search-tabs">
        <input type="hidden" id="where" value="{{ w }}" />
        <input type="hidden" id="default_author" value="username" />
        <input type="hidden" id="default_query" value="crashes on youtube" />
        <input type="hidden" id="default_tags" value="tag1, tag2" />
        <ul>
            <li><a title="{{ _("Search the Knowledge Base") }}" class="tablink" href="#kb">{{ _("Knowledge Base") }}</a></li>
            <li><a title="{{ _("Search the Forum") }}" class="tablink" href="#forum">{{ _("Forum") }}</a></li>
        </ul>
        <div id="tab-wrapper">
        <form id="kb" method="get">
            <label>
                <span>{{ _("Article contains") }}</span>
                <input name="q" value="{{ q|e }}" type="text" />
            </label>

            <label>
                <span>{{ _("Language") }}</span>
                <select name="lang" id="documents_lang">
                {% for v in languages %}
                    <option value="{{ v[0] }}">{{ _(v[1]) }}</option>
                {% endfor %}
                </select>
            </label>

            <label>
                <span class="description">{{ _("Category") }}</span>
            </label>
<table class="right_container"><tr>                <td><label class="checkbox">
                    <input type="checkbox" checked="checked" value="1" name="category[]"> Knowledge Base
                </label></td>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="3" name="category[]"> Staging Area
                </label></td>
                                </tr><tr>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="7" name="category[]"> Sandbox/Internal Testing Area
                </label></td>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="8" name="category[]"> Administration
                </label></td>
                                </tr><tr>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="11" name="category[]"> Waiting for review
                </label></td>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="13" name="category[]"> Firefox 2
                </label></td>
                                </tr><tr>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="14" name="category[]"> Firefox 3.0
                </label></td>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="15" name="category[]"> Additional Categories
                </label></td>
                                </tr><tr>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="17" name="category[]"> Linked from in-product
                </label></td>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="18" name="category[]"> - This is a help article -
                </label></td>
                                </tr><tr>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="19" name="category[]"> - This is a support/troubleshooting article -
                </label></td>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="20" name="category[]"> Live Chat documentation
                </label></td>
                                </tr><tr>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="23" name="category[]"> How to Contribute
                </label></td>
                                                <td><label class="checkbox">
                    <input type="checkbox" value="24" name="category[]"> Archive
                </label></td>
                                </tr><tr>
                                                <td colspan="2"><label class="checkbox">
                    <input type="checkbox" value="25" name="category[]"> Firefox 3.5/3.6
                </label></td>
                                </tr></table>
            <label>
                <span>{{ _("Tags") }}</span>
                <input name="tag" value="{{ tag|e }}" type="text" /><br/>
                <span class="search-tips-small">
                    {{ _("Note: Searching for tag1 tag2 returns articles tagged with both tag1 and tag2") }}
                </span>
            </label>

            <input type="hidden" value="1" name="w" />
            <input type="hidden" value="1" name="a" />

            <div class="submit-search">
                <input type="submit" value="{{ _("Search") }} »" />
            </div>
        </form><!-- kb -->
        <form method="get" id="forum">
            <label>
                <span>{{ _("Post contains") }}</span>
                <input name="q" value="{{ q|e }}" type="text" />
            </label>

            <label>
                <span>{{ _("Post status") }}</span>
                <select name="status">
                {% for k, v in status_list|dictsort %}
                    <option value="{{ k }}">{{ _(v.name) }}</option>
                {% endfor %}
                </select>
            </label>

            <label>
                <span>{{ _("Post author") }}</span>
                <input name="author" value="{{ author|e }}" type="text" /><br/>
            </label>

            <label>
                <span>{{ _("Created") }}</span>
                <select name="created">
                    <option value="0" selected="selected">{{ _("Don't filter") }}</option>
                    <option value="1">{{ _("Before") }}</option>
                    <option value="2">{{ _("After") }}</option>
                </select>
                <input name="created_date" type="text" value="{{ created_date|e }}" class="datepicker" title="Created date. Format: mm/dd/yy" />
            </label>

            <label>
                <span>{{ _("Last updated") }}</span>
                <select name="lastmodif">
                {% for k, v in lastmodif_list|dictsort %}
                    <option value="{{ k }}">{{ _(v) }}</option>
                {% endfor %}
                </select>
            </label>

            <label>
                <span>{{ _("Sort results by") }}</span>
                <select name="sortby">
                {% for k, v in sortby_list|dictsort %}
                    <option value="{{ k }}">{{ _(v) }}</option>
                {% endfor %}
                </select>
            </label>

            <label>
                <span>{{ _("Search in forum") }}</span>
                <select name="forumid[]" multiple="multiple" size="3">
                    <option value="1" selected="selected">{{ _("Firefox") }}</option>
                    <option value="2">{{ _("Contributors") }}</option>
                    <option value="3">{{ _("Off Topic") }}</option>
                </select>
            </label>

            <input type="hidden" value="2" name="w" />
            <input type="hidden" value="1" name="a" />
            <div class="submit-search">
                <input type="submit" value="{{ _("Search") }} »" />
            </div>
        </form><!-- forum -->
        </div><!-- tab-wrapper-->
    </div><!-- search-tabs -->

    <a href="/{{ locale }}/search">{{ _("Use basic search")|safe }}</a>
    {% else %}
    <div id="basic-search" class="search-empty">
    {{ _("Enter your terms in the form below and click <strong>Search</strong>")|safe }}
        <form role="search" method="get" action="search">
            <input type="hidden" value="{{ locale }}" name="locale">
            <input type="text" class="search-query search-empty-query" value="{{ q }}" name="q">
            <input type="submit" class="search-empty-submit btn-large" value="{% print _("Search") %}">
        </form>
    </div>
    <a href="/{{ locale }}/search?a=1">{{ _("Use advanced search")|safe }}</a>
    {% endif %}
{% endblock %}
